"use strict";(self.webpackChunkvmem=self.webpackChunkvmem||[]).push([[760],{8760:(F,b,d)=>{d.r(b),d.d(b,{StudioModule:()=>P});var h=d(9808),u=d(1083),e=d(5e3),v=d(1271),_=d(7423),w=d(5245);let y=(()=>{class i{constructor(t,n){this.router=t,this.sb=n}ngOnInit(){let t=localStorage.getItem("b"),n=localStorage.getItem("name"),o=localStorage.getItem("ar");(!t||!n||!o)&&this.router.navigateByUrl("/create"),this.url=`https://nawinsr.github.io/turnjs/?test=${t}&name=${n}&ar=${o}`}open(){window.open(this.url)}copy(){navigator.clipboard.writeText(this.url),this.sb.open("Link Copied !"),setTimeout(()=>{this.sb.dismiss()},2e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.F0),e.Y36(v.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-book"]],decls:17,vars:0,consts:[[1,"container"],[1,"body-containers"],[1,"col-6","cent"],[1,"heading"],[1,"mt-3"],["mat-raised-button","",1,"primary-btn",3,"click"],[1,"mt-4"],["title","Copy Link",2,"cursor","pointer",3,"click"],["href","#/create"],[1,"col-6"],["src","assets/images/undraw_share_link_re_54rx.svg","alt","",2,"height","200px"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"span",3),e._uU(5," Successfully Created ! "),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return n.open()}),e._uU(8,"OPEN"),e.qZA()(),e.TgZ(9,"div",6)(10,"mat-icon",7),e.NdJ("click",function(){return n.copy()}),e._uU(11,"content_copy"),e.qZA()(),e.TgZ(12,"div",6)(13,"a",8),e._uU(14,"create anothe flip book"),e.qZA()()(),e.TgZ(15,"div",9),e._UZ(16,"img",10),e.qZA()()())},directives:[_.lW,w.Hw],styles:[".body-containers[_ngcontent-%COMP%]{height:400px;display:flex;justify-content:space-around;align-items:center}"]}),i})();function C(i,l,t,n,o,a,s){try{var r=i[a](s),c=r.value}catch(p){return void t(p)}r.done?l(c):Promise.resolve(c).then(n,o)}function g(i){return function(){var l=this,t=arguments;return new Promise(function(n,o){var a=i.apply(l,t);function s(c){C(a,n,o,s,r,"next",c)}function r(c){C(a,n,o,s,r,"throw",c)}s(void 0)})}}var m=d(3737),f=d(7322),A=d(7531),x=d(3075),Z=d(773);function T(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"p",10),e._uU(4,"Its Just a Prototype !"),e.qZA(),e.TgZ(5,"p",10),e._uU(6,"You should choose only two images of same size."),e.qZA()(),e._UZ(7,"div",11),e.TgZ(8,"div",9)(9,"input",12),e.NdJ("change",function(o){return e.CHM(t),e.oxw().uplaodImages(o)}),e.qZA(),e.TgZ(10,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().fileClick()}),e._uU(11,"Create Your Own"),e.qZA(),e._UZ(12,"br"),e.qZA()(),e.TgZ(13,"div")(14,"div"),e._UZ(15,"iframe",14),e.qZA()()()}}function k(i,l){if(1&i&&(e.TgZ(0,"div",24)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._UZ(4,"img",26),e.qZA()()),2&i){const t=l.$implicit,n=l.index;e.xp6(2),e.hij(" ",n+1," "),e.xp6(2),e.Q6J("src",t.img,e.LSH)}}function M(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e.NdJ("cdkDropListDropped",function(o){return e.CHM(t),e.oxw().drop(o)}),e.YNc(2,k,5,2,"div",17),e.qZA(),e.TgZ(3,"div",18)(4,"div",19)(5,"mat-form-field",20)(6,"mat-label"),e._uU(7,"Your name"),e.qZA(),e.TgZ(8,"input",21),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().name=o}),e.qZA(),e.TgZ(9,"mat-icon",22),e._uU(10,"person"),e.qZA()()(),e.TgZ(11,"div",23)(12,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().convertToBase64()}),e._uU(13,"CREATE"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.preview),e.xp6(6),e.Q6J("ngModel",t.name)}}function O(i,l){1&i&&(e.TgZ(0,"div",27),e._UZ(1,"mat-spinner",28),e.qZA())}const U=[{path:"",redirectTo:"create"},{path:"create",component:(()=>{class i{constructor(t,n){this.router=t,this._snackBar=n,this.loader=!1,this.urlArray=[],this.fileUploaded=!1,this.files=[],this.preview=[],this.success=!1,this.name="",this.base64abc=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],this.base64codes=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]}delete(t){this.files.splice(t,1)}drop(t){(0,m.bA)(this.files,t.previousIndex,t.currentIndex),(0,m.bA)(this.preview,t.previousIndex,t.currentIndex)}ngOnInit(){}getBase64Code(t){if(t>=this.base64codes.length)throw new Error("Unable to parse base64 string.");const n=this.base64codes[t];if(255===n)throw new Error("Unable to parse base64 string.");return n}bytesToBase64(t){let o,n="",a=t.length;for(o=2;o<a;o+=3)n+=this.base64abc[t[o-2]>>2],n+=this.base64abc[(3&t[o-2])<<4|t[o-1]>>4],n+=this.base64abc[(15&t[o-1])<<2|t[o]>>6],n+=this.base64abc[63&t[o]];return o===a+1&&(n+=this.base64abc[t[o-2]>>2],n+=this.base64abc[(3&t[o-2])<<4],n+="=="),o===a&&(n+=this.base64abc[t[o-2]>>2],n+=this.base64abc[(3&t[o-2])<<4|t[o-1]>>4],n+=this.base64abc[(15&t[o-1])<<2],n+="="),n}base64ToBytes(t){if(t.length%4!=0)throw new Error("Unable to parse base64 string.");const n=t.indexOf("=");if(-1!==n&&n<t.length-2)throw new Error("Unable to parse base64 string.");let r,o=t.endsWith("==")?2:t.endsWith("=")?1:0,a=t.length,s=new Uint8Array(a/4*3);for(let c=0,p=0;c<a;c+=4,p+=3)r=this.getBase64Code(t.charCodeAt(c))<<18|this.getBase64Code(t.charCodeAt(c+1))<<12|this.getBase64Code(t.charCodeAt(c+2))<<6|this.getBase64Code(t.charCodeAt(c+3)),s[p]=r>>16,s[p+1]=r>>8&255,s[p+2]=255&r;return s.subarray(0,s.length-o)}base64encode(t,n=new TextEncoder){return this.bytesToBase64(n.encode(t))}base64decode(t,n=new TextDecoder){return n.decode(this.base64ToBytes(t))}fileClick(){var t;null===(t=document.getElementById("fileId"))||void 0===t||t.click()}uplaodImages(t){var n=this;return g(function*(){n.files=[],console.log(t.target.files);let o=t.target.files;if(console.log(o.length),o.length>2)return n._snackBar.open("uploaded files more than two !"),void setTimeout(()=>{n._snackBar.dismiss()},2e3);if(o.length<2)return n._snackBar.open("uploaded files less than two !"),void setTimeout(()=>{n._snackBar.dismiss()},2e3);for(let s=0;s<o.length;s++){const r=o[s];n.files.push(r);var a=new FileReader;a.readAsDataURL(r),a.onload=p=>{n.preview.push({img:p.target.result})}}n.fileUploaded=!0})()}convertToBase64(){var t=this;return g(function*(){if(""==t.name)return t._snackBar.open("Enter Your name !"),void setTimeout(()=>{t._snackBar.dismiss()},2e3);t.loader=!0,console.log(t.files),t.files.forEach(function(){var n=g(function*(o,a){yield t.upload(o,a).then(s=>{console.log(s,a)})});return function(o,a){return n.apply(this,arguments)}}())})()}upload(t,n){var o=this;return g(function*(){var a=new FormData;a.append("image",t,t.name);var s={method:"POST",body:a,redirect:"follow"};console.log(s),fetch("https://api.imgbb.com/1/upload?key=31b647f2ef0e505c6327c251cfb0553a",s).then(r=>r.json()).then(r=>{r?(console.log(r),console.log("result.image.display_url",r.data.display_url),console.log(r.data.width,r.data.height),o.ar=parseInt(r.data.width)/parseInt(r.data.height),o.urlArray.push({img:r.data.display_url}),console.log("urlArray",o.urlArray),1==n&&200==r.status&&setTimeout(()=>{o.success=!0,console.log(o.urlArray,o.ar);const c=JSON.stringify([...o.urlArray]);localStorage.setItem("b",o.base64encode(c)),localStorage.setItem("ar",o.ar),localStorage.setItem("name",o.name),o.loader=!1,o.router.navigateByUrl("/share")},2e3)):(o._snackBar.open("file upload error !"),o.fileUploaded=!1,o.files=[],o.preview=[],o.urlArray=[],setTimeout(()=>{o.loader=!1}))}).catch(r=>{o._snackBar.open("file upload error !"),o.fileUploaded=!1,o.files=[],o.preview=[],o.urlArray=[],setTimeout(()=>{o.loader=!1}),console.log("error",r)})})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.F0),e.Y36(v.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-album"]],decls:15,vars:3,consts:[[1,"container"],[1,"row","tc"],[1,"col-4"],[1,"heading"],["class","body-containers",4,"ngIf"],["style","padding: 30px;",4,"ngIf"],["class","spid",4,"ngIf"],[1,"body-containers"],[1,"col"],[1,"cent"],[1,"ins"],[1,"col",2,"height","50px"],["multiple","","type","file","accept","image/png, image/jpg, image/jpeg","hidden","","id","fileId",3,"change"],["mat-raised-button","",1,"primary-btn",3,"click"],["src","https://nawinsr.github.io/turnjs/?test=W3siaW1nIjoiaHR0cHM6Ly9pLmliYi5jby9rMEdYcmc5LzAxNWExNzU3ZTY3Zjc2NmExMjYyMWFmNTQzYjNhNWZkLmpwZyJ9LHsiaW1nIjoiaHR0cHM6Ly9pLmliYi5jby81V3A4V0hZLzE4LmpwZyJ9XQ==&name=here !&ar=1.7777777777777777","width","700px","height","500px"],[2,"padding","30px"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","kela"],[1,"col-3"],["appearance","outline"],["matInput","","placeholder","Your Name",3,"ngModel","ngModelChange"],["matSuffix",""],[1,"col-3","mt-2"],["cdkDrag","",1,"example-box"],[2,"margin-left","10px"],["alt","",2,"width","100px","height","auto",3,"src"],[1,"spid"],["color","#F50057",1,"spinner"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Serverless !"),e.qZA()(),e.TgZ(5,"div",2)(6,"p",3),e._uU(7,"Light Weight !"),e.qZA()(),e.TgZ(8,"div",2)(9,"p",3),e._uU(10,"Quick Sharing !"),e.qZA()()(),e.YNc(11,T,16,0,"div",4),e._UZ(12,"div"),e.YNc(13,M,14,2,"div",5),e.qZA(),e.YNc(14,O,2,0,"div",6)),2&t&&(e.xp6(11),e.Q6J("ngIf",!n.fileUploaded),e.xp6(2),e.Q6J("ngIf",n.fileUploaded),e.xp6(1),e.Q6J("ngIf",n.loader))},directives:[h.O5,_.lW,m.Wj,h.sg,m.Zt,f.KE,f.hX,A.Nt,x.Fj,x.JJ,x.On,w.Hw,f.R9,Z.Ou],styles:[".container[_ngcontent-%COMP%]{height:auto!important;margin-bottom:1000px!important}.data-list[_ngcontent-%COMP%]{padding:3px;border:1px solid #efefef;background-color:#fdfdfd;border-radius:5px;cursor:pointer;margin-top:20px}mat-icon[_ngcontent-%COMP%]{color:#f50057;line-height:65px}.list-items[_ngcontent-%COMP%]{line-height:65px}.tc[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid #efefef}.upload-img[_ngcontent-%COMP%]{height:200px}.body-containers[_ngcontent-%COMP%]{height:400px;display:flex;justify-content:space-around;align-items:center}.ins[_ngcontent-%COMP%]{font-weight:550}.example-list[_ngcontent-%COMP%]{width:100%;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;box-sizing:border-box;cursor:move;background:white;font-size:14px;height:auto}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.primary-btn[_ngcontent-%COMP%]{background-color:#f50057!important}.kela[_ngcontent-%COMP%]{margin-top:20px!important}.spid[_ngcontent-%COMP%]{position:fixed;z-index:998;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0;width:100%;height:100%;background-color:#f3f3f3;opacity:.5}.spinner[_ngcontent-%COMP%]{position:fixed;z-index:999;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0;width:50px;height:50px;color:#f50057}.mat-spinner[_ngcontent-%COMP%]     circle{stroke:#f50057}"]}),i})()},{path:"share",component:y},{path:"**",redirectTo:"create"}];let B=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.Bz.forChild(U)],u.Bz]}),i})();var I=d(6998);let P=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[h.ez,B,I.m]]}),i})()}}]);