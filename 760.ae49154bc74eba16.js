"use strict";(self.webpackChunkvmem=self.webpackChunkvmem||[]).push([[760],{8760:(S,b,p)=>{p.r(b),p.d(b,{StudioModule:()=>P});var m=p(9808),u=p(1083),e=p(5e3),v=p(1271),w=p(7423),_=p(5245);let y=(()=>{class i{constructor(t,n){this.router=t,this.sb=n}ngOnInit(){let t=localStorage.getItem("b"),n=localStorage.getItem("name"),o=localStorage.getItem("ar");(!t||!n||!o)&&this.router.navigateByUrl("/create"),this.url=`https://nawinsr.github.io/turnjs/?test=${t}&name=${n}&ar=${o}`}open(){window.open(this.url)}copy(){navigator.clipboard.writeText(this.url),this.sb.open("Link Copied !"),setTimeout(()=>{this.sb.dismiss()},2e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.F0),e.Y36(v.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-book"]],decls:17,vars:0,consts:[[1,"container"],[1,"body-containers"],[1,"col-6","cent"],[1,"heading"],[1,"mt-3"],["mat-raised-button","",1,"primary-btn",3,"click"],[1,"mt-4"],["title","Copy Link",2,"cursor","pointer",3,"click"],["href","#/create"],[1,"col-6"],["src","assets/images/undraw_share_link_re_54rx.svg","alt","",2,"height","200px"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"span",3),e._uU(5," Successfully Created ! "),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return n.open()}),e._uU(8,"OPEN"),e.qZA()(),e.TgZ(9,"div",6)(10,"mat-icon",7),e.NdJ("click",function(){return n.copy()}),e._uU(11,"content_copy"),e.qZA()(),e.TgZ(12,"div",6)(13,"a",8),e._uU(14,"create anothe flip book"),e.qZA()()(),e.TgZ(15,"div",9),e._UZ(16,"img",10),e.qZA()()())},directives:[w.lW,_.Hw],styles:[".body-containers[_ngcontent-%COMP%]{height:400px;display:flex;justify-content:space-around;align-items:center}"]}),i})();function C(i,s,t,n,o,r,c){try{var d=i[r](c),l=d.value}catch(a){return void t(a)}d.done?s(l):Promise.resolve(l).then(n,o)}function h(i){return function(){var s=this,t=arguments;return new Promise(function(n,o){var r=i.apply(s,t);function c(l){C(r,n,o,c,d,"next",l)}function d(l){C(r,n,o,c,d,"throw",l)}c(void 0)})}}var g=p(3737),f=p(7322),A=p(7531),x=p(3075),T=p(773);function Z(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div"),e._UZ(3,"iframe",9),e.qZA()(),e.TgZ(4,"div",10)(5,"div")(6,"div",11)(7,"input",12),e.NdJ("change",function(o){return e.CHM(t),e.oxw().uplaodImages(o)}),e.qZA(),e.TgZ(8,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().fileClick()}),e._uU(9,"Create Your Own"),e.qZA(),e._UZ(10,"br"),e.qZA(),e.TgZ(11,"div",14)(12,"p",15),e._uU(13,"Its Just a Prototype !"),e.qZA(),e.TgZ(14,"p",15),e._uU(15,"You should choose only two images of same size."),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("width",t.ww)}}function k(i,s){if(1&i&&(e.TgZ(0,"div",25)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",26),e._UZ(4,"img",27),e.qZA()()),2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.hij(" ",n+1," "),e.xp6(2),e.Q6J("src",t.img,e.LSH)}}function M(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17),e.NdJ("cdkDropListDropped",function(o){return e.CHM(t),e.oxw().drop(o)}),e.YNc(2,k,5,2,"div",18),e.qZA(),e.TgZ(3,"div",19)(4,"div",20)(5,"mat-form-field",21)(6,"mat-label"),e._uU(7,"Your name"),e.qZA(),e.TgZ(8,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().name=o}),e.qZA(),e.TgZ(9,"mat-icon",23),e._uU(10,"person"),e.qZA()()(),e.TgZ(11,"div",24)(12,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().convertToBase64()}),e._uU(13,"CREATE"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.preview),e.xp6(6),e.Q6J("ngModel",t.name)}}function O(i,s){1&i&&(e.TgZ(0,"div",28),e._UZ(1,"mat-spinner",29),e.qZA())}const U=[{path:"",redirectTo:"create"},{path:"create",component:(()=>{class i{constructor(t,n){this.router=t,this._snackBar=n,this.ww="700px",this.loader=!1,this.urlArray=[],this.fileUploaded=!1,this.files=[],this.preview=[],this.success=!1,this.name="",this.base64abc=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],this.base64codes=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]}delete(t){this.files.splice(t,1)}drop(t){(0,g.bA)(this.files,t.previousIndex,t.currentIndex),(0,g.bA)(this.preview,t.previousIndex,t.currentIndex)}ngOnInit(){window.screen.width<700&&(this.ww=window.screen.width-50+"px")}getBase64Code(t){if(t>=this.base64codes.length)throw new Error("Unable to parse base64 string.");const n=this.base64codes[t];if(255===n)throw new Error("Unable to parse base64 string.");return n}bytesToBase64(t){let o,n="",r=t.length;for(o=2;o<r;o+=3)n+=this.base64abc[t[o-2]>>2],n+=this.base64abc[(3&t[o-2])<<4|t[o-1]>>4],n+=this.base64abc[(15&t[o-1])<<2|t[o]>>6],n+=this.base64abc[63&t[o]];return o===r+1&&(n+=this.base64abc[t[o-2]>>2],n+=this.base64abc[(3&t[o-2])<<4],n+="=="),o===r&&(n+=this.base64abc[t[o-2]>>2],n+=this.base64abc[(3&t[o-2])<<4|t[o-1]>>4],n+=this.base64abc[(15&t[o-1])<<2],n+="="),n}base64ToBytes(t){if(t.length%4!=0)throw new Error("Unable to parse base64 string.");const n=t.indexOf("=");if(-1!==n&&n<t.length-2)throw new Error("Unable to parse base64 string.");let d,o=t.endsWith("==")?2:t.endsWith("=")?1:0,r=t.length,c=new Uint8Array(r/4*3);for(let l=0,a=0;l<r;l+=4,a+=3)d=this.getBase64Code(t.charCodeAt(l))<<18|this.getBase64Code(t.charCodeAt(l+1))<<12|this.getBase64Code(t.charCodeAt(l+2))<<6|this.getBase64Code(t.charCodeAt(l+3)),c[a]=d>>16,c[a+1]=d>>8&255,c[a+2]=255&d;return c.subarray(0,c.length-o)}base64encode(t,n=new TextEncoder){return this.bytesToBase64(n.encode(t))}base64decode(t,n=new TextDecoder){return n.decode(this.base64ToBytes(t))}fileClick(){var t;null===(t=document.getElementById("fileId"))||void 0===t||t.click()}uplaodImages(t){var n=this;return h(function*(){n.files=[],console.log(t.target.files);let o=t.target.files;if(console.log(o.length),o.length>2)return n._snackBar.open("uploaded files more than two !"),void setTimeout(()=>{n._snackBar.dismiss()},2e3);if(o.length<2)return n._snackBar.open("uploaded files less than two !"),void setTimeout(()=>{n._snackBar.dismiss()},2e3);for(let c=0;c<o.length;c++){const d=o[c];n.files.push(d);var r=new FileReader;r.readAsDataURL(d),r.onload=a=>{n.preview.push({img:a.target.result})}}n.fileUploaded=!0})()}convertToBase64(){var t=this;return h(function*(){if(""==t.name)return t._snackBar.open("Enter Your name !"),void setTimeout(()=>{t._snackBar.dismiss()},2e3);t.loader=!0,console.log(t.files);for(let n=0;n<t.files.length;n++){const o=t.files[n];yield t.upload(o,n).then(r=>{console.log(r,n)}).catch(r=>{console.log(r)})}})()}upload(t,n){var o=this;return h(function*(){return new Promise((r,c)=>{var d=new FormData;d.append("image",t,t.name);var l={method:"POST",body:d,redirect:"follow"};console.log(l),fetch("https://api.imgbb.com/1/upload?key=31b647f2ef0e505c6327c251cfb0553a",l).then(a=>a.json()).then(a=>{a?(console.log(a),console.log("result.image.display_url",a.data.display_url),console.log(a.data.width,a.data.height),o.ar=parseInt(a.data.width)/parseInt(a.data.height),o.urlArray.push({img:a.data.display_url}),console.log("urlArray",o.urlArray),0==n&&200==a.status&&r(!0),1==n&&200==a.status&&setTimeout(()=>{o.success=!0,console.log(o.urlArray,o.ar);const F=JSON.stringify([...o.urlArray]);localStorage.setItem("b",o.base64encode(F)),localStorage.setItem("ar",o.ar),localStorage.setItem("name",o.name),o.loader=!1,r(!0),o.router.navigateByUrl("/share")},2e3)):(o._snackBar.open("file upload error !"),o.fileUploaded=!1,o.files=[],o.preview=[],o.urlArray=[],setTimeout(()=>{o.loader=!1,r(!0)},1e3))}).catch(a=>{o._snackBar.open("file upload error !"),o.fileUploaded=!1,o.files=[],o.preview=[],o.urlArray=[],setTimeout(()=>{o.loader=!1,r(!0)},1e3),console.log("error",a)})})})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.F0),e.Y36(v.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-album"]],decls:15,vars:3,consts:[[1,"container"],[1,"row","tc"],[1,"col-lg-4","col-md-12","col-lg-sm-12"],[1,"heading"],["class"," row",4,"ngIf"],["style","padding: 30px;",4,"ngIf"],["class","spid",4,"ngIf"],[1,"row"],[1,"col-lg-8","col-md-12","col-sm-12"],["src","https://nawinsr.github.io/turnjs/?test=W3siaW1nIjoiaHR0cHM6Ly9pLmliYi5jby9rMEdYcmc5LzAxNWExNzU3ZTY3Zjc2NmExMjYyMWFmNTQzYjNhNWZkLmpwZyJ9LHsiaW1nIjoiaHR0cHM6Ly9pLmliYi5jby81V3A4V0hZLzE4LmpwZyJ9XQ==&name=! Turn Me &ar=1.2","height","500px",3,"width"],[1,"alg","col-lg-4","col-md-12","col-sm-12"],[1,"cent"],["multiple","","type","file","accept","image/png, image/jpg, image/jpeg","hidden","","id","fileId",3,"change"],["mat-raised-button","",1,"primary-btn",3,"click"],[1,"cent","mt-3"],[1,"ins"],[2,"padding","30px"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","kela"],[1,"col-3"],["appearance","outline"],["matInput","","placeholder","Your Name",3,"ngModel","ngModelChange"],["matSuffix",""],[1,"col-3","mt-2"],["cdkDrag","",1,"example-box"],[2,"margin-left","10px"],["alt","",2,"width","100px","height","auto",3,"src"],[1,"spid"],["color","#F50057",1,"spinner"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Serverless !"),e.qZA()(),e.TgZ(5,"div",2)(6,"p",3),e._uU(7,"Light Weight !"),e.qZA()(),e.TgZ(8,"div",2)(9,"p",3),e._uU(10,"Quick Sharing !"),e.qZA()()(),e.YNc(11,Z,16,1,"div",4),e._UZ(12,"div"),e.YNc(13,M,14,2,"div",5),e.qZA(),e.YNc(14,O,2,0,"div",6)),2&t&&(e.xp6(11),e.Q6J("ngIf",!n.fileUploaded),e.xp6(2),e.Q6J("ngIf",n.fileUploaded),e.xp6(1),e.Q6J("ngIf",n.loader))},directives:[m.O5,w.lW,g.Wj,m.sg,g.Zt,f.KE,f.hX,A.Nt,x.Fj,x.JJ,x.On,_.Hw,f.R9,T.Ou],styles:[".container[_ngcontent-%COMP%]{height:auto!important;margin-bottom:1000px!important}.data-list[_ngcontent-%COMP%]{padding:3px;border:1px solid #efefef;background-color:#fdfdfd;border-radius:5px;cursor:pointer;margin-top:20px}mat-icon[_ngcontent-%COMP%]{color:#f50057;line-height:65px}.list-items[_ngcontent-%COMP%]{line-height:65px}.tc[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid #efefef}.upload-img[_ngcontent-%COMP%]{height:200px}.body-containers[_ngcontent-%COMP%]{height:400px;display:flex;justify-content:space-around;align-items:center}.ins[_ngcontent-%COMP%]{font-weight:550}.example-list[_ngcontent-%COMP%]{width:100%;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;box-sizing:border-box;cursor:move;background:white;font-size:14px;height:auto}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.primary-btn[_ngcontent-%COMP%]{background-color:#f50057!important}.kela[_ngcontent-%COMP%]{margin-top:20px!important}.spid[_ngcontent-%COMP%]{position:fixed;z-index:998;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0;width:100%;height:100%;background-color:#f3f3f3;opacity:.5}.spinner[_ngcontent-%COMP%]{position:fixed;z-index:999;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0;width:50px;height:50px;color:#f50057}.mat-spinner[_ngcontent-%COMP%]     circle{stroke:#f50057}.alg[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around}"]}),i})()},{path:"share",component:y},{path:"**",redirectTo:"create"}];let B=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.Bz.forChild(U)],u.Bz]}),i})();var I=p(6998);let P=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,B,I.m]]}),i})()}}]);